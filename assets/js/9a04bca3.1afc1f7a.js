"use strict";(self.webpackChunkreact_py_docs=self.webpackChunkreact_py_docs||[]).push([[264],{3905:(e,t,n)=>{n.r(t),n.d(t,{MDXContext:()=>l,MDXProvider:()=>m,mdx:()=>h,useMDXComponents:()=>u,withMDXComponents:()=>p});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){return function(t){var n=u(t.components);return r.createElement(e,a({},t,{components:n}))}},u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},y=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,d=p["".concat(i,".").concat(m)]||p[m]||f[m]||a;return n?r.createElement(d,s(s({ref:t},l),{},{components:n})):r.createElement(d,s({ref:t},l))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=y;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}y.displayName="MDXCreateElement"},3968:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>h,frontMatter:()=>p,metadata:()=>m,toc:()=>f});var r=n(7462),o=n(7294),a=n(3905),i=n(3598),s=n(3157),c=n(6010);function l(){const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)([]),[a,l]=(0,o.useState)([]),[p,u]=(0,o.useState)(0),m=(0,o.useRef)(),{runPython:d,stdout:f,stderr:y,banner:h,consoleState:b,isReady:g,isRunning:v,interruptExecution:x}=(0,i.usePythonConsole)({packages:{micropip:["python-cowsay"]}});function w(){return b===s.ConsoleState.incomplete?"... ":">>> "}function O(){r([])}return(0,o.useEffect)((()=>{g&&m.current.focus()}),[g]),(0,o.useEffect)((()=>{h&&r((e=>[...e,{text:h+"\n"}]))}),[h]),(0,o.useEffect)((()=>{f&&r((e=>[...e,{text:f}]))}),[f]),(0,o.useEffect)((()=>{y&&r((e=>[...e,{text:y+"\n",className:"text-red-500"}]))}),[y]),o.createElement("div",{className:"relative mb-10"},o.createElement("pre",{className:"mt-4 max-h-[calc(100vh_-_20rem)] min-h-[3.5rem] text-left"},!g&&o.createElement("code",null,"Loading..."),n.map(((e,t)=>o.createElement("code",{className:e.className,key:t},e.text))),o.createElement("div",{className:"mt-2 flex"},o.createElement("code",{className:"mt-2"},w()),o.createElement("textarea",{ref:m,className:"highlight-white/5 w-full resize-none rounded-md bg-slate-800 p-2 text-sm shadow-sm ring-0 ring-slate-900/10",style:{height:e?1.25*e.split("\n").length+1+"rem":"2.25rem"},value:e,onChange:e=>{const n=e.target.value;l((e=>[n,...e.slice(1)])),t(n)},onKeyDown:n=>{const o=n.target.selectionStart,i=n.target.selectionEnd;switch(n.key){case"Enter":!n.shiftKey&&async function(){u(0),e&&l((t=>[e,...t])),r((t=>[...t,{text:w()+e+"\n"}])),await d(e),t(""),m.current.focus()}();break;case"ArrowUp":0===o&&0===i&&(t(a[p]),u((e=>Math.min(a.length-1,e+1))));break;case"ArrowDown":o===e.length&&i===e.length&&(t(a[p]),u((e=>Math.max(0,e-1))))}},disabled:!g,autoCapitalize:"off",spellCheck:"false",autoFocus:!0}))),o.createElement("span",{className:"absolute top-2 right-2 z-10 inline-flex rounded-md shadow-sm"},o.createElement("button",{onClick:O,type:"button",disabled:v,className:(0,c.default)("relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700",v?"opacity-50":"opacity-75 hover:cursor-pointer hover:bg-gray-50 hover:opacity-100")},"Clear"),o.createElement("button",{onClick:function(){x(),O()},type:"button",className:(0,c.default)("relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700","opacity-75 hover:cursor-pointer hover:bg-gray-50 hover:opacity-100")},"Reset")))}const p={sidebar_position:8},u="Interactive Console",m={unversionedId:"examples/interactive-console",id:"examples/interactive-console",title:"Interactive Console",description:"This is an example of using the usePythonConsole hook to render an interactive console.",source:"@site/docs/examples/interactive-console.mdx",sourceDirName:"examples",slug:"/examples/interactive-console",permalink:"/react-py/docs/examples/interactive-console",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Making API Calls",permalink:"/react-py/docs/examples/making-api-calls"}},d={},f=[],y={toc:f};function h(e){let{components:t,...n}=e;return(0,a.mdx)("wrapper",(0,r.default)({},y,n,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"interactive-console"},"Interactive Console"),(0,a.mdx)("p",null,"This is an example of using the ",(0,a.mdx)("inlineCode",{parentName:"p"},"usePythonConsole")," hook to render an interactive console."),(0,a.mdx)("admonition",{type:"caution"},(0,a.mdx)("p",{parentName:"admonition"},"At this time, interrupting execution waits until the lastest command has finished running. This prevents runaway processes from being cancelled.")),(0,a.mdx)(l,{mdxType:"Console"}),(0,a.mdx)("p",null,"You can find the source code for this example ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/elilambnz/react-py/blob/main/website/src/components/Console.tsx"},"here"),"."))}h.isMDXComponent=!0}}]);